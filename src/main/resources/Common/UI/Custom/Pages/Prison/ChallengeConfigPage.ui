$C = "../../Common.ui";

$C.@PageOverlay {
    $C.@Container {
        Anchor: (Width: 1200, Height: 850);

        #Title {
            Group {
                $C.@Title {
                    @Text = "CONFIGURATION CHALLENGES";
                }
            }
        }

        #Content {
            LayoutMode: Top;

            // Header bar
            Group #HeaderBar {
                Anchor: (Height: 50);
                Background: (Color: #0d1520);
                LayoutMode: Left;
                Padding: (Horizontal: 20);

                Label #HeaderTitle {
                    FlexWeight: 1;
                    Text: "CHALLENGES ADMIN";
                    Style: (FontSize: 18, TextColor: #ffd700, RenderBold: true, RenderUppercase: true, VerticalAlignment: Center);
                }

                TextButton #CloseBtn {
                    Anchor: (Width: 44, Height: 40);
                    Text: "X";
                    Style: TextButtonStyle(
                        Default: (Background: #3a1a1a, LabelStyle: (FontSize: 18, TextColor: #ff4444, HorizontalAlignment: Center, VerticalAlignment: Center, RenderBold: true)),
                        Hovered: (Background: #5a2a2a, LabelStyle: (FontSize: 18, TextColor: #ff6666, HorizontalAlignment: Center, VerticalAlignment: Center, RenderBold: true)),
                        Sounds: $C.@ButtonSounds
                    );
                }
            }

            // ===== EDITOR FORM (masque par defaut) =====
            Group #EditorForm {
                FlexWeight: 1;
                LayoutMode: TopScrolling;
                ScrollbarStyle: $C.@DefaultScrollbarStyle;
                Padding: (Horizontal: 30, Vertical: 20);
                Visible: false;

                // --- Section Infos generales ---
                Group #InfoSection {
                    Anchor: (Height: 210);
                    LayoutMode: Top;
                    Background: (Color: #111b27);
                    Padding: (Full: 20);

                    Label {
                        Anchor: (Height: 28);
                        Text: "INFORMATIONS GENERALES";
                        Style: (FontSize: 14, TextColor: #4fc3f7, RenderBold: true);
                    }

                    // --- ID ---
                    Group {
                        Anchor: (Height: 45, Top: 10);
                        LayoutMode: Left;

                        Label { Anchor: (Width: 140); Text: "ID:"; Style: (FontSize: 14, TextColor: #96a9be, RenderBold: true, VerticalAlignment: Center); }
                        Label #EditIdLabel { Anchor: (Width: 400, Height: 36); Style: (FontSize: 14, TextColor: #7c8b99, VerticalAlignment: Center); Visible: false; }
                        TextField #EditId { Anchor: (Height: 36); FlexWeight: 1; PlaceholderText: "ex: A_1"; }
                    }

                    // --- Nom ---
                    Group {
                        Anchor: (Height: 45, Top: 5);
                        LayoutMode: Left;

                        Label { Anchor: (Width: 140); Text: "Nom:"; Style: (FontSize: 14, TextColor: #96a9be, RenderBold: true, VerticalAlignment: Center); }
                        TextField #EditName { Anchor: (Height: 36); FlexWeight: 1; PlaceholderText: "Nom du challenge"; }
                    }

                    // --- Description ---
                    Group {
                        Anchor: (Height: 45, Top: 5);
                        LayoutMode: Left;

                        Label { Anchor: (Width: 140); Text: "Description:"; Style: (FontSize: 14, TextColor: #96a9be, RenderBold: true, VerticalAlignment: Center); }
                        TextField #EditDesc { Anchor: (Height: 36); FlexWeight: 1; PlaceholderText: "Description du challenge"; }
                    }
                }

                // --- Section Type ---
                Group #TypeSection {
                    Anchor: (Height: 150, Top: 15);
                    LayoutMode: Top;
                    Background: (Color: #111b27);
                    Padding: (Full: 20);

                    Label {
                        Anchor: (Height: 28);
                        Text: "TYPE DE CHALLENGE";
                        Style: (FontSize: 14, TextColor: #4fc3f7, RenderBold: true);
                    }

                    // --- Type boutons ligne 1 ---
                    Group #TypeRow1 {
                        Anchor: (Height: 38, Top: 10);
                        LayoutMode: Left;

                        TextButton #TypeBtn0 { Anchor: (Width: 160, Height: 34); Style: TextButtonStyle(Default: (Background: #1a2836, LabelStyle: (FontSize: 12, TextColor: #4fc3f7, RenderBold: true, HorizontalAlignment: Center, VerticalAlignment: Center)), Hovered: (Background: #253545, LabelStyle: (FontSize: 12, TextColor: #ffffff, RenderBold: true, HorizontalAlignment: Center, VerticalAlignment: Center)), Sounds: $C.@ButtonSounds); }
                        TextButton #TypeBtn1 { Anchor: (Width: 160, Height: 34, Left: 8); Style: TextButtonStyle(Default: (Background: #1a2836, LabelStyle: (FontSize: 12, TextColor: #4fc3f7, RenderBold: true, HorizontalAlignment: Center, VerticalAlignment: Center)), Hovered: (Background: #253545, LabelStyle: (FontSize: 12, TextColor: #ffffff, RenderBold: true, HorizontalAlignment: Center, VerticalAlignment: Center)), Sounds: $C.@ButtonSounds); }
                        TextButton #TypeBtn2 { Anchor: (Width: 160, Height: 34, Left: 8); Style: TextButtonStyle(Default: (Background: #1a2836, LabelStyle: (FontSize: 12, TextColor: #66bb6a, RenderBold: true, HorizontalAlignment: Center, VerticalAlignment: Center)), Hovered: (Background: #253545, LabelStyle: (FontSize: 12, TextColor: #ffffff, RenderBold: true, HorizontalAlignment: Center, VerticalAlignment: Center)), Sounds: $C.@ButtonSounds); }
                        TextButton #TypeBtn3 { Anchor: (Width: 160, Height: 34, Left: 8); Style: TextButtonStyle(Default: (Background: #1a2836, LabelStyle: (FontSize: 12, TextColor: #66bb6a, RenderBold: true, HorizontalAlignment: Center, VerticalAlignment: Center)), Hovered: (Background: #253545, LabelStyle: (FontSize: 12, TextColor: #ffffff, RenderBold: true, HorizontalAlignment: Center, VerticalAlignment: Center)), Sounds: $C.@ButtonSounds); }
                        TextButton #TypeBtn4 { Anchor: (Width: 160, Height: 34, Left: 8); Style: TextButtonStyle(Default: (Background: #1a2836, LabelStyle: (FontSize: 12, TextColor: #ff9800, RenderBold: true, HorizontalAlignment: Center, VerticalAlignment: Center)), Hovered: (Background: #253545, LabelStyle: (FontSize: 12, TextColor: #ffffff, RenderBold: true, HorizontalAlignment: Center, VerticalAlignment: Center)), Sounds: $C.@ButtonSounds); }
                    }

                    // --- Type boutons ligne 2 ---
                    Group #TypeRow2 {
                        Anchor: (Height: 38, Top: 5);
                        LayoutMode: Left;

                        TextButton #TypeBtn5 { Anchor: (Width: 160, Height: 34); Style: TextButtonStyle(Default: (Background: #1a2836, LabelStyle: (FontSize: 12, TextColor: #ab47bc, RenderBold: true, HorizontalAlignment: Center, VerticalAlignment: Center)), Hovered: (Background: #253545, LabelStyle: (FontSize: 12, TextColor: #ffffff, RenderBold: true, HorizontalAlignment: Center, VerticalAlignment: Center)), Sounds: $C.@ButtonSounds); }
                        TextButton #TypeBtn6 { Anchor: (Width: 160, Height: 34, Left: 8); Style: TextButtonStyle(Default: (Background: #1a2836, LabelStyle: (FontSize: 12, TextColor: #ab47bc, RenderBold: true, HorizontalAlignment: Center, VerticalAlignment: Center)), Hovered: (Background: #253545, LabelStyle: (FontSize: 12, TextColor: #ffffff, RenderBold: true, HorizontalAlignment: Center, VerticalAlignment: Center)), Sounds: $C.@ButtonSounds); }
                        TextButton #TypeBtn7 { Anchor: (Width: 160, Height: 34, Left: 8); Style: TextButtonStyle(Default: (Background: #1a2836, LabelStyle: (FontSize: 12, TextColor: #ab47bc, RenderBold: true, HorizontalAlignment: Center, VerticalAlignment: Center)), Hovered: (Background: #253545, LabelStyle: (FontSize: 12, TextColor: #ffffff, RenderBold: true, HorizontalAlignment: Center, VerticalAlignment: Center)), Sounds: $C.@ButtonSounds); }
                        TextButton #TypeBtn8 { Anchor: (Width: 160, Height: 34, Left: 8); Style: TextButtonStyle(Default: (Background: #1a2836, LabelStyle: (FontSize: 12, TextColor: #ef5350, RenderBold: true, HorizontalAlignment: Center, VerticalAlignment: Center)), Hovered: (Background: #253545, LabelStyle: (FontSize: 12, TextColor: #ffffff, RenderBold: true, HorizontalAlignment: Center, VerticalAlignment: Center)), Sounds: $C.@ButtonSounds); }
                    }
                }

                // --- Bloc cible (masque, visible si MINE_SPECIFIC) ---
                Group #BlockRow {
                    Anchor: (Height: 65, Top: 15);
                    LayoutMode: Left;
                    Background: (Color: #111b27);
                    Padding: (Full: 15);
                    Visible: false;

                    Label { Anchor: (Width: 140); Text: "Bloc cible:"; Style: (FontSize: 14, TextColor: #96a9be, RenderBold: true, VerticalAlignment: Center); }
                    TextField #EditBlock { Anchor: (Height: 36); FlexWeight: 1; PlaceholderText: "ex: hytale:cobblestone"; }
                }

                // --- Section Paliers ---
                Group #TierSection {
                    Anchor: (Height: 350, Top: 15);
                    LayoutMode: Top;
                    Background: (Color: #111b27);
                    Padding: (Full: 20);

                    // Header paliers
                    Group {
                        Anchor: (Height: 30);
                        LayoutMode: Left;

                        Label {
                            Anchor: (Width: 200);
                            Text: "PALIERS";
                            Style: (FontSize: 14, TextColor: #4fc3f7, RenderBold: true, VerticalAlignment: Center);
                        }
                        Label #TierInfo { FlexWeight: 1; Style: (FontSize: 13, TextColor: #7c8b99, VerticalAlignment: Center); }
                    }

                    // --- Paliers colonnes header ---
                    Group {
                        Anchor: (Height: 30, Top: 10);
                        LayoutMode: Left;
                        Background: (Color: #0d1520);
                        Padding: (Horizontal: 15);

                        Label { Anchor: (Width: 50); Text: "#"; Style: (FontSize: 13, TextColor: #7c8b99, RenderBold: true, VerticalAlignment: Center); }
                        Label { Anchor: (Width: 300); Text: "Cible (nombre)"; Style: (FontSize: 13, TextColor: #7c8b99, RenderBold: true, VerticalAlignment: Center); }
                        Label { Anchor: (Width: 300); Text: "Recompense"; Style: (FontSize: 13, TextColor: #7c8b99, RenderBold: true, VerticalAlignment: Center); }
                    }

                    // --- Tier rows ---
                    Group #TierRow0 { Anchor: (Height: 42, Top: 5); LayoutMode: Left; Padding: (Horizontal: 15); Background: (Color: #151d28);
                        Label { Anchor: (Width: 50); Text: "1."; Style: (FontSize: 14, TextColor: #96a9be, RenderBold: true, VerticalAlignment: Center); }
                        NumberField #T0Target { Anchor: (Width: 300, Height: 34); }
                        NumberField #T0Reward { Anchor: (Width: 300, Height: 34, Left: 10); }
                    }
                    Group #TierRow1 { Anchor: (Height: 42, Top: 3); LayoutMode: Left; Padding: (Horizontal: 15); Background: (Color: #131a25); Visible: false;
                        Label { Anchor: (Width: 50); Text: "2."; Style: (FontSize: 14, TextColor: #96a9be, RenderBold: true, VerticalAlignment: Center); }
                        NumberField #T1Target { Anchor: (Width: 300, Height: 34); }
                        NumberField #T1Reward { Anchor: (Width: 300, Height: 34, Left: 10); }
                    }
                    Group #TierRow2 { Anchor: (Height: 42, Top: 3); LayoutMode: Left; Padding: (Horizontal: 15); Background: (Color: #151d28); Visible: false;
                        Label { Anchor: (Width: 50); Text: "3."; Style: (FontSize: 14, TextColor: #96a9be, RenderBold: true, VerticalAlignment: Center); }
                        NumberField #T2Target { Anchor: (Width: 300, Height: 34); }
                        NumberField #T2Reward { Anchor: (Width: 300, Height: 34, Left: 10); }
                    }
                    Group #TierRow3 { Anchor: (Height: 42, Top: 3); LayoutMode: Left; Padding: (Horizontal: 15); Background: (Color: #131a25); Visible: false;
                        Label { Anchor: (Width: 50); Text: "4."; Style: (FontSize: 14, TextColor: #96a9be, RenderBold: true, VerticalAlignment: Center); }
                        NumberField #T3Target { Anchor: (Width: 300, Height: 34); }
                        NumberField #T3Reward { Anchor: (Width: 300, Height: 34, Left: 10); }
                    }
                    Group #TierRow4 { Anchor: (Height: 42, Top: 3); LayoutMode: Left; Padding: (Horizontal: 15); Background: (Color: #151d28); Visible: false;
                        Label { Anchor: (Width: 50); Text: "5."; Style: (FontSize: 14, TextColor: #96a9be, RenderBold: true, VerticalAlignment: Center); }
                        NumberField #T4Target { Anchor: (Width: 300, Height: 34); }
                        NumberField #T4Reward { Anchor: (Width: 300, Height: 34, Left: 10); }
                    }

                    // --- Boutons + / - palier ---
                    Group {
                        Anchor: (Height: 40, Top: 10);
                        LayoutMode: Left;

                        TextButton #AddTierBtn {
                            Anchor: (Width: 160, Height: 36);
                            Text: "+ PALIER";
                            Style: TextButtonStyle(
                                Default: (Background: #1a3a1a, LabelStyle: (FontSize: 13, TextColor: #66bb6a, RenderBold: true, HorizontalAlignment: Center, VerticalAlignment: Center)),
                                Hovered: (Background: #2a5a2a, LabelStyle: (FontSize: 13, TextColor: #ffffff, RenderBold: true, HorizontalAlignment: Center, VerticalAlignment: Center)),
                                Sounds: $C.@ButtonSounds
                            );
                        }
                        TextButton #RemTierBtn {
                            Anchor: (Width: 160, Height: 36, Left: 10);
                            Text: "- PALIER";
                            Style: TextButtonStyle(
                                Default: (Background: #3a1a1a, LabelStyle: (FontSize: 13, TextColor: #ef5350, RenderBold: true, HorizontalAlignment: Center, VerticalAlignment: Center)),
                                Hovered: (Background: #4a2a2a, LabelStyle: (FontSize: 13, TextColor: #ffffff, RenderBold: true, HorizontalAlignment: Center, VerticalAlignment: Center)),
                                Sounds: $C.@ButtonSounds
                            );
                        }
                    }
                }

                // --- Sauvegarder / Annuler ---
                Group {
                    Anchor: (Height: 60, Top: 20);
                    LayoutMode: Left;

                    Group { FlexWeight: 1; }
                    TextButton #SaveBtn {
                        Anchor: (Width: 220, Height: 48);
                        Text: "SAUVEGARDER";
                        Style: TextButtonStyle(
                            Default: (Background: #2a5f2a, LabelStyle: (FontSize: 16, TextColor: #ffffff, RenderBold: true, HorizontalAlignment: Center, VerticalAlignment: Center)),
                            Hovered: (Background: #3a7f3a, LabelStyle: (FontSize: 16, TextColor: #ffffff, RenderBold: true, HorizontalAlignment: Center, VerticalAlignment: Center)),
                            Sounds: $C.@ButtonSounds
                        );
                    }
                    TextButton #CancelBtn {
                        Anchor: (Width: 180, Height: 48, Left: 20);
                        Text: "ANNULER";
                        Style: TextButtonStyle(
                            Default: (Background: #3a2a2a, LabelStyle: (FontSize: 16, TextColor: #ff6666, RenderBold: true, HorizontalAlignment: Center, VerticalAlignment: Center)),
                            Hovered: (Background: #4a3a3a, LabelStyle: (FontSize: 16, TextColor: #ffffff, RenderBold: true, HorizontalAlignment: Center, VerticalAlignment: Center)),
                            Sounds: $C.@ButtonSounds
                        );
                    }
                    Group { FlexWeight: 1; }
                }
            }

            // ===== LIST VIEW =====
            Group #PageContent {
                FlexWeight: 1;
                LayoutMode: TopScrolling;
                ScrollbarStyle: $C.@DefaultScrollbarStyle;
                Padding: (Horizontal: 20, Vertical: 15);
            }
        }
    }
}
