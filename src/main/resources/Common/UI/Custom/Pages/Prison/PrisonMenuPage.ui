$C = "../../Common.ui";

// Icon textures - remplacer par vos PNG custom
@IconMines = PatchStyle(TexturePath: "Icons/mines.png");
@IconRang = PatchStyle(TexturePath: "Icons/rang.png");
@IconUpgrades = PatchStyle(TexturePath: "Icons/upgrades.png");
@IconVendre = PatchStyle(TexturePath: "Icons/vendre.png");
@IconClassement = PatchStyle(TexturePath: "Icons/classement.png");
@IconCellule = PatchStyle(TexturePath: "Icons/cellule.png");

// Style commun pour les cartes
@CardStyle = TextButtonStyle(
    Default: (
        Background: #151d28,
        LabelStyle: (FontSize: 1, TextColor: #00000000)
    ),
    Hovered: (
        Background: #1c2940,
        LabelStyle: (FontSize: 1, TextColor: #00000000)
    ),
    Sounds: $C.@ButtonSounds,
);

$C.@PageOverlay {
    $C.@Container {
        Anchor: (Width: 900, Height: 560);

        #Title {
            Group {
                $C.@Title {
                    @Text = "PRISON";
                }
            }
        }

        #Content {
            LayoutMode: Top;

            // Header bar
            Group #HeaderBar {
                Anchor: (Height: 50);
                Background: (Color: #16212f);
                LayoutMode: Left;
                Padding: (Horizontal: 20);

                Label #HeaderTitle {
                    FlexWeight: 1;
                    Text: "PRISON";
                    Style: (FontSize: 16, TextColor: #ff9800, RenderBold: true, RenderUppercase: true, VerticalAlignment: Center);
                }

                TextButton #BackBtn {
                    Anchor: (Width: 80, Height: 32);
                    Visible: false;
                    Text: "< Retour";
                    Style: TextButtonStyle(
                        Default: (
                            LabelStyle: (FontSize: 12, TextColor: #96a9be, VerticalAlignment: Center)
                        ),
                        Hovered: (
                            Background: #1a2836,
                            LabelStyle: (FontSize: 12, TextColor: #ffffff, VerticalAlignment: Center)
                        ),
                        Sounds: $C.@ButtonSounds,
                    );
                }
            }

            // Dynamic content area (pour les sous-pages)
            Group #PageContent {
                FlexWeight: 1;
                LayoutMode: TopScrolling;
                ScrollbarStyle: $C.@DefaultScrollbarStyle;
                Padding: (Full: 20);
            }

            // Hub Grid - grille 3x2 de cartes (visible par defaut)
            Group #HubGrid {
                FlexWeight: 1;
                LayoutMode: Top;
                Padding: (Full: 25);

                // Ligne 1 - MINES | RANG | UPGRADES
                Group #Row1 {
                    Anchor: (Height: 200);
                    LayoutMode: Left;

                    // Carte MINES
                    Group {
                        FlexWeight: 1;
                        Padding: (Right: 10);

                        TextButton #CardMines {
                            Style: @CardStyle;
                            LayoutMode: Top;
                            Padding: (Full: 12);

                            Group #IconMines {
                                Anchor: (Height: 90);
                                Background: @IconMines;
                            }

                            Label {
                                Anchor: (Height: 30, Top: 8);
                                Text: "MINES";
                                Style: (FontSize: 15, TextColor: #4fc3f7, RenderBold: true, RenderUppercase: true, HorizontalAlignment: Center, VerticalAlignment: Center);
                            }

                            Label {
                                Anchor: (Height: 20);
                                Text: "Teleportation vers les mines";
                                Style: (FontSize: 11, TextColor: #7c8b99, HorizontalAlignment: Center);
                            }
                        }
                    }

                    // Carte RANG
                    Group {
                        FlexWeight: 1;
                        Padding: (Horizontal: 5);

                        TextButton #CardRang {
                            Style: @CardStyle;
                            LayoutMode: Top;
                            Padding: (Full: 12);

                            Group #IconRang {
                                Anchor: (Height: 90);
                                Background: @IconRang;
                            }

                            Label {
                                Anchor: (Height: 30, Top: 8);
                                Text: "RANG";
                                Style: (FontSize: 15, TextColor: #ffd700, RenderBold: true, RenderUppercase: true, HorizontalAlignment: Center, VerticalAlignment: Center);
                            }

                            Label {
                                Anchor: (Height: 20);
                                Text: "Progression et rankup";
                                Style: (FontSize: 11, TextColor: #7c8b99, HorizontalAlignment: Center);
                            }
                        }
                    }

                    // Carte UPGRADES
                    Group {
                        FlexWeight: 1;
                        Padding: (Left: 10);

                        TextButton #CardUpgrades {
                            Style: @CardStyle;
                            LayoutMode: Top;
                            Padding: (Full: 12);

                            Group #IconUpgrades {
                                Anchor: (Height: 90);
                                Background: @IconUpgrades;
                            }

                            Label {
                                Anchor: (Height: 30, Top: 8);
                                Text: "UPGRADES";
                                Style: (FontSize: 15, TextColor: #ab47bc, RenderBold: true, RenderUppercase: true, HorizontalAlignment: Center, VerticalAlignment: Center);
                            }

                            Label {
                                Anchor: (Height: 20);
                                Text: "Ameliorations de pioche";
                                Style: (FontSize: 11, TextColor: #7c8b99, HorizontalAlignment: Center);
                            }
                        }
                    }
                }

                // Ligne 2 - VENDRE | CLASSEMENT | CELLULE
                Group #Row2 {
                    Anchor: (Height: 200, Top: 10);
                    LayoutMode: Left;

                    // Carte VENDRE
                    Group {
                        FlexWeight: 1;
                        Padding: (Right: 10);

                        TextButton #CardVendre {
                            Style: @CardStyle;
                            LayoutMode: Top;
                            Padding: (Full: 12);

                            Group #IconVendre {
                                Anchor: (Height: 90);
                                Background: @IconVendre;
                            }

                            Label {
                                Anchor: (Height: 30, Top: 8);
                                Text: "VENDRE";
                                Style: (FontSize: 15, TextColor: #66bb6a, RenderBold: true, RenderUppercase: true, HorizontalAlignment: Center, VerticalAlignment: Center);
                            }

                            Label {
                                Anchor: (Height: 20);
                                Text: "Vendre les blocs";
                                Style: (FontSize: 11, TextColor: #7c8b99, HorizontalAlignment: Center);
                            }
                        }
                    }

                    // Carte CLASSEMENT
                    Group {
                        FlexWeight: 1;
                        Padding: (Horizontal: 5);

                        TextButton #CardClassement {
                            Style: @CardStyle;
                            LayoutMode: Top;
                            Padding: (Full: 12);

                            Group #IconClassement {
                                Anchor: (Height: 90);
                                Background: @IconClassement;
                            }

                            Label {
                                Anchor: (Height: 30, Top: 8);
                                Text: "CLASSEMENT";
                                Style: (FontSize: 15, TextColor: #ef5350, RenderBold: true, RenderUppercase: true, HorizontalAlignment: Center, VerticalAlignment: Center);
                            }

                            Label {
                                Anchor: (Height: 20);
                                Text: "Top joueurs";
                                Style: (FontSize: 11, TextColor: #7c8b99, HorizontalAlignment: Center);
                            }
                        }
                    }

                    // Carte CELLULE
                    Group {
                        FlexWeight: 1;
                        Padding: (Left: 10);

                        TextButton #CardCellule {
                            Style: @CardStyle;
                            LayoutMode: Top;
                            Padding: (Full: 12);

                            Group #IconCellule {
                                Anchor: (Height: 90);
                                Background: @IconCellule;
                            }

                            Label {
                                Anchor: (Height: 30, Top: 8);
                                Text: "CELLULE";
                                Style: (FontSize: 15, TextColor: #8d6e63, RenderBold: true, RenderUppercase: true, HorizontalAlignment: Center, VerticalAlignment: Center);
                            }

                            Label {
                                Anchor: (Height: 20);
                                Text: "Gestion de cellule";
                                Style: (FontSize: 11, TextColor: #7c8b99, HorizontalAlignment: Center);
                            }
                        }
                    }
                }
            }
        }
    }
}
