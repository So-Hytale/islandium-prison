$C = "../../Common.ui";

// Icon textures - remplacer par vos PNG custom
@IconMines = PatchStyle(TexturePath: "Icons/mines.png");
@IconRang = PatchStyle(TexturePath: "Icons/rang.png");
@IconUpgrades = PatchStyle(TexturePath: "Icons/upgrades.png");
@IconVendre = PatchStyle(TexturePath: "Icons/vendre.png");
@IconClassement = PatchStyle(TexturePath: "Icons/classement.png");
@IconCellule = PatchStyle(TexturePath: "Icons/cellule.png");

$C.@PageOverlay {
    $C.@Container {
        Anchor: (Width: 900, Height: 560);

        #Title {
            Group {
                $C.@Title {
                    @Text = "PRISON";
                }
            }
        }

        #Content {
            LayoutMode: Top;

            // Header bar
            Group #HeaderBar {
                Anchor: (Height: 50);
                Background: (Color: #16212f);
                LayoutMode: Left;
                Padding: (Horizontal: 20);

                Label #HeaderTitle {
                    FlexWeight: 1;
                    Text: "PRISON";
                    Style: (FontSize: 16, TextColor: #ff9800, RenderBold: true, RenderUppercase: true, VerticalAlignment: Center);
                }

                TextButton #BackBtn {
                    Anchor: (Width: 80, Height: 32);
                    Visible: false;
                    Text: "< Retour";
                    Style: TextButtonStyle(
                        Default: (
                            LabelStyle: (FontSize: 12, TextColor: #96a9be, VerticalAlignment: Center)
                        ),
                        Hovered: (
                            Background: #1a2836,
                            LabelStyle: (FontSize: 12, TextColor: #ffffff, VerticalAlignment: Center)
                        ),
                        Sounds: $C.@ButtonSounds,
                    );
                }

                TextButton #CloseButton {
                    Anchor: (Width: 40, Height: 36);
                    Text: "X";
                    Style: TextButtonStyle(
                        Default: (Background: #2a1a1a, LabelStyle: (FontSize: 16, TextColor: #ff4444, HorizontalAlignment: Center, VerticalAlignment: Center, RenderBold: true)),
                        Hovered: (Background: #3a2a2a, LabelStyle: (FontSize: 16, TextColor: #ff6666, HorizontalAlignment: Center, VerticalAlignment: Center, RenderBold: true)),
                        Sounds: $C.@ButtonSounds
                    );
                }
            }

            // Dynamic content area (pour les sous-pages)
            Group #PageContent {
                FlexWeight: 1;
                LayoutMode: TopScrolling;
                ScrollbarStyle: $C.@DefaultScrollbarStyle;
                Padding: (Full: 20);
            }

            // Hub Grid - grille 3x2 de cartes (visible par defaut)
            Group #HubGrid {
                FlexWeight: 1;
                LayoutMode: Top;
                Padding: (Full: 25);

                // Ligne 1 - MINES | RANG | UPGRADES
                Group #Row1 {
                    Anchor: (Height: 200);
                    LayoutMode: Left;

                    // Carte MINES
                    Group {
                        FlexWeight: 1;
                        Padding: (Right: 10);

                        Button #CardMines {
                            Style: ButtonStyle(Default: (Background: #151d28), Hovered: (Background: #1e2d3d));

                            Group {
                                LayoutMode: Top;
                                Padding: (Full: 12);

                                Group {
                                    Anchor: (Height: 88);
                                    LayoutMode: Left;
                                    Group { FlexWeight: 1; }
                                    Group { Anchor: (Width: 88, Height: 88); Background: @IconMines; }
                                    Group { FlexWeight: 1; }
                                }

                                Label {
                                    Anchor: (Height: 30, Top: 8);
                                    Text: "MINES";
                                    Style: (FontSize: 15, TextColor: #4fc3f7, RenderBold: true, RenderUppercase: true, HorizontalAlignment: Center, VerticalAlignment: Center);
                                }

                                Label {
                                    Anchor: (Height: 20);
                                    Text: "Teleportation vers les mines";
                                    Style: (FontSize: 11, TextColor: #7c8b99, HorizontalAlignment: Center);
                                }
                            }
                        }
                    }

                    // Carte RANG
                    Group {
                        FlexWeight: 1;
                        Padding: (Horizontal: 5);

                        Button #CardRang {
                            Style: ButtonStyle(Default: (Background: #151d28), Hovered: (Background: #1e2d3d));

                            Group {
                                LayoutMode: Top;
                                Padding: (Full: 12);

                                Group {
                                    Anchor: (Height: 88);
                                    LayoutMode: Left;
                                    Group { FlexWeight: 1; }
                                    Group { Anchor: (Width: 88, Height: 88); Background: @IconRang; }
                                    Group { FlexWeight: 1; }
                                }

                                Label {
                                    Anchor: (Height: 30, Top: 8);
                                    Text: "RANG";
                                    Style: (FontSize: 15, TextColor: #ffd700, RenderBold: true, RenderUppercase: true, HorizontalAlignment: Center, VerticalAlignment: Center);
                                }

                                Label {
                                    Anchor: (Height: 20);
                                    Text: "Progression et rankup";
                                    Style: (FontSize: 11, TextColor: #7c8b99, HorizontalAlignment: Center);
                                }
                            }
                        }
                    }

                    // Carte UPGRADES
                    Group {
                        FlexWeight: 1;
                        Padding: (Left: 10);

                        Button #CardUpgrades {
                            Style: ButtonStyle(Default: (Background: #151d28), Hovered: (Background: #1e2d3d));

                            Group {
                                LayoutMode: Top;
                                Padding: (Full: 12);

                                Group {
                                    Anchor: (Height: 88);
                                    LayoutMode: Left;
                                    Group { FlexWeight: 1; }
                                    Group { Anchor: (Width: 88, Height: 88); Background: @IconUpgrades; }
                                    Group { FlexWeight: 1; }
                                }

                                Label {
                                    Anchor: (Height: 30, Top: 8);
                                    Text: "UPGRADES";
                                    Style: (FontSize: 15, TextColor: #ab47bc, RenderBold: true, RenderUppercase: true, HorizontalAlignment: Center, VerticalAlignment: Center);
                                }

                                Label {
                                    Anchor: (Height: 20);
                                    Text: "Ameliorations de pioche";
                                    Style: (FontSize: 11, TextColor: #7c8b99, HorizontalAlignment: Center);
                                }
                            }
                        }
                    }
                }

                // Ligne 2 - VENDRE | CLASSEMENT | CELLULE
                Group #Row2 {
                    Anchor: (Height: 200, Top: 10);
                    LayoutMode: Left;

                    // Carte VENDRE
                    Group {
                        FlexWeight: 1;
                        Padding: (Right: 10);

                        Button #CardVendre {
                            Style: ButtonStyle(Default: (Background: #151d28), Hovered: (Background: #1e2d3d));

                            Group {
                                LayoutMode: Top;
                                Padding: (Full: 12);

                                Group {
                                    Anchor: (Height: 88);
                                    LayoutMode: Left;
                                    Group { FlexWeight: 1; }
                                    Group { Anchor: (Width: 88, Height: 88); Background: @IconVendre; }
                                    Group { FlexWeight: 1; }
                                }

                                Label {
                                    Anchor: (Height: 30, Top: 8);
                                    Text: "VENDRE";
                                    Style: (FontSize: 15, TextColor: #66bb6a, RenderBold: true, RenderUppercase: true, HorizontalAlignment: Center, VerticalAlignment: Center);
                                }

                                Label {
                                    Anchor: (Height: 20);
                                    Text: "Vendre les blocs";
                                    Style: (FontSize: 11, TextColor: #7c8b99, HorizontalAlignment: Center);
                                }
                            }
                        }
                    }

                    // Carte CLASSEMENT
                    Group {
                        FlexWeight: 1;
                        Padding: (Horizontal: 5);

                        Button #CardClassement {
                            Style: ButtonStyle(Default: (Background: #151d28), Hovered: (Background: #1e2d3d));

                            Group {
                                LayoutMode: Top;
                                Padding: (Full: 12);

                                Group {
                                    Anchor: (Height: 88);
                                    LayoutMode: Left;
                                    Group { FlexWeight: 1; }
                                    Group { Anchor: (Width: 88, Height: 88); Background: @IconClassement; }
                                    Group { FlexWeight: 1; }
                                }

                                Label {
                                    Anchor: (Height: 30, Top: 8);
                                    Text: "CLASSEMENT";
                                    Style: (FontSize: 15, TextColor: #ef5350, RenderBold: true, RenderUppercase: true, HorizontalAlignment: Center, VerticalAlignment: Center);
                                }

                                Label {
                                    Anchor: (Height: 20);
                                    Text: "Top joueurs";
                                    Style: (FontSize: 11, TextColor: #7c8b99, HorizontalAlignment: Center);
                                }
                            }
                        }
                    }

                    // Carte CELLULE
                    Group {
                        FlexWeight: 1;
                        Padding: (Left: 10);

                        Button #CardCellule {
                            Style: ButtonStyle(Default: (Background: #151d28), Hovered: (Background: #1e2d3d));

                            Group {
                                LayoutMode: Top;
                                Padding: (Full: 12);

                                Group {
                                    Anchor: (Height: 88);
                                    LayoutMode: Left;
                                    Group { FlexWeight: 1; }
                                    Group { Anchor: (Width: 88, Height: 88); Background: @IconCellule; }
                                    Group { FlexWeight: 1; }
                                }

                                Label {
                                    Anchor: (Height: 30, Top: 8);
                                    Text: "CELLULE";
                                    Style: (FontSize: 15, TextColor: #8d6e63, RenderBold: true, RenderUppercase: true, HorizontalAlignment: Center, VerticalAlignment: Center);
                                }

                                Label {
                                    Anchor: (Height: 20);
                                    Text: "Gestion de cellule";
                                    Style: (FontSize: 11, TextColor: #7c8b99, HorizontalAlignment: Center);
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}
